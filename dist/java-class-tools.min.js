/*!
 * https://github.com/leonardosnt/java-class-tools
 * 
 * Copyright (C) 2017 leonardosnt
 * Licensed under the MIT License. See LICENSE file in the project root for full license information.
 */
 !function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.JavaClassTools=e():t.JavaClassTools=e()}(this,function(){return function(t){function e(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var n=i(1),s=r(n),a=i(8),o=r(a),f=i(7),h=r(f),u=i(9),l=r(u),b=i(10),d=r(b),c=i(11);t.exports={JavaClassFileReader:s.default,JavaClassFileWriter:o.default,Opcode:l.default,ConstantType:h.default,Modifier:d.default,Instruction:c.Instruction,InstructionParser:c.InstructionParser}},function(t,e,i){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),o=i(3),f=r(o),h=i(7),u=r(h),l=function(){function t(){n(this,t)}return a(t,[{key:"read",value:function(t){if(void 0==t)throw TypeError("source cannot be null or undefined");if("string"==typeof t)return this.readFromFile(t);if(this.buf=f.default.wrap(t),this.classFile=new function(){},3405691582!==this.buf.readUint32())throw Error("Invalid MAGIC value");this.classFile.minor_version=this.buf.readUint16(),this.classFile.major_version=this.buf.readUint16(),this.classFile.constant_pool_count=this.buf.readUint16(),this.classFile.constant_pool=this._readConstantPool(this.classFile.constant_pool_count-1),this.classFile.access_flags=this.buf.readUint16(),this.classFile.this_class=this.buf.readUint16(),this.classFile.super_class=this.buf.readUint16(),this.classFile.interfaces_count=this.buf.readUint16(),this.classFile.interfaces=this._readInterfaces(this.classFile.interfaces_count),this.classFile.fields_count=this.buf.readUint16(),this.classFile.fields=this._readMemberInfoArray(this.classFile.fields_count),this.classFile.methods_count=this.buf.readUint16(),this.classFile.methods=this._readMemberInfoArray(this.classFile.methods_count),this.classFile.attributes_count=this.buf.readUint16(),this.classFile.attributes=this._readAttributeInfoArray(this.classFile.attributes_count);var e=this.classFile;return delete this.buf,delete this.classFile,e}},{key:"readFromFile",value:function(t){if(void 0!==(void 0===e?"undefined":s(e))){var r=i(2);return this.read(r.readFileSync(t))}throw Error("readFromFile is not supported in the browser.")}},{key:"_readMemberInfoArray",value:function(t){for(var e=new Array(t),i=0;i<t;i++){var r={access_flags:this.buf.readUint16(),name_index:this.buf.readUint16(),descriptor_index:this.buf.readUint16(),attributes_count:this.buf.readUint16()};r.attributes=this._readAttributeInfoArray(r.attributes_count),e[i]=r}return e}},{key:"_readAttributeInfoArray",value:function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=this._readAttributeInfo();return e}},{key:"_readVerificationTypeInfo",value:function(){var t={tag:this.buf.readUint8()};return 7===t.tag?t.cpool_index=this.buf.readUint16():8===t.tag&&(t.offset=this.buf.readUint16()),t}},{key:"_readTypeAnnotation",value:function(){var t={target_type:this.buf.readUint8(),target_info:{}};switch(t.target_type){case 0:case 1:t.target_info.type_parameter_index=this.buf.readUint8();break;case 16:t.target_info.supertype_index=this.buf.readUint16();break;case 17:case 18:t.target_info.type_parameter_index=this.buf.readUint8(),t.target_info.bound_index=this.buf.readUint8();break;case 19:case 20:case 21:break;case 22:t.target_info.formal_parameter_index=this.buf.readUint8();break;case 23:t.target_info.throws_type_index=this.buf.readUint16();break;case 64:case 65:t.target_info.table_length=this.buf.readUint16(),t.target_info.table=new Array(t.target_info.table_length);for(var e=0;e<t.target_info.table_length;e++){var i={start_pc:this.buf.readUint16(),length:this.buf.readUint16(),index:this.buf.readUint16()};t.target_info.table[e]=i}break;case 66:t.target_info.exception_table_index=this.buf.readUint16();break;case 67:case 68:case 69:case 70:t.target_info.offset=this.buf.readUint16();break;case 71:case 72:case 73:case 74:case 75:t.target_info.offset=this.buf.readUint16(),t.target_info.type_argument_index=this.buf.readUint8();break;default:throw Error("Unexpected target_type: "+t.target_type)}t.type_path={path_length:this.buf.readUint8()},t.type_path.path=new Array(t.type_path.path_length);for(var r=0;r<t.type_path.path_length;r++)t.type_path.path[r]={type_path_kind:this.buf.readUint8(),type_argument_index:this.buf.readUint8()};t.type_index=this.buf.readUint16(),t.num_element_value_pairs=this.buf.readUint16(),t.element_value_pairs=new Array(t.num_element_value_pairs);for(var n=0;n<t.num_element_value_pairs;n++)t.element_value_pairs[n]={element_name_index:this.buf.readUint16(),element_value:this._readElementValue()};return t}},{key:"_readAttributeInfo",value:function(){var t={attribute_name_index:this.buf.readUint16(),attribute_length:this.buf.readUint32()},e=this.classFile.constant_pool[t.attribute_name_index].bytes;switch(String.fromCharCode.apply(null,e)){case"Deprecated":case"Synthetic":break;case"RuntimeInvisibleAnnotations":case"RuntimeVisibleAnnotations":t.num_annotations=this.buf.readUint16(),t.annotations=new Array(t.num_annotations);for(var i=0;i<t.num_annotations;i++)t.annotations[i]=this._readAttributeAnnotation();break;case"InnerClasses":t.number_of_classes=this.buf.readUint16(),t.classes=new Array(t.number_of_classes);for(var r=0;r<t.number_of_classes;r++)t.classes[r]={inner_class_info_index:this.buf.readUint16(),outer_class_info_index:this.buf.readUint16(),inner_name_index:this.buf.readUint16(),inner_class_access_flags:this.buf.readUint16()};break;case"LocalVariableTable":t.local_variable_table_length=this.buf.readUint16(),t.local_variable_table=new Array(t.local_variable_table_length);for(var n=0;n<t.local_variable_table_length;n++)t.local_variable_table[n]={start_pc:this.buf.readUint16(),length:this.buf.readUint16(),name_index:this.buf.readUint16(),descriptor_index:this.buf.readUint16(),index:this.buf.readUint16()};break;case"LocalVariableTypeTable":t.local_variable_type_table_length=this.buf.readUint16(),t.local_variable_type_table=new Array(t.local_variable_type_table_length);for(var s=0;s<t.local_variable_type_table_length;s++)t.local_variable_type_table[s]={start_pc:this.buf.readUint16(),length:this.buf.readUint16(),name_index:this.buf.readUint16(),signature_index:this.buf.readUint16(),index:this.buf.readUint16()};break;case"RuntimeInvisibleParameterAnnotations":case"RuntimeVisibleParameterAnnotations":t.num_parameters=this.buf.readUint8(),t.parameter_annotations=new Array(t.num_parameters);for(var a=0;a<t.num_parameters;a++){var o={num_annotations:this.buf.readUint16()};o.annotations=new Array(o.num_annotations);for(var f=0;f<o.num_annotations;f++)o.annotations[f]=this._readAttributeAnnotation();t.parameter_annotations[a]=o}break;case"BootstrapMethods":t.num_bootstrap_methods=this.buf.readUint16(),t.bootstrap_methods=new Array(t.num_bootstrap_methods);for(var h=0;h<t.num_bootstrap_methods;h++){var u={bootstrap_method_ref:this.buf.readUint16(),num_bootstrap_arguments:this.buf.readUint16()};u.bootstrap_arguments=new Array(u.num_bootstrap_arguments);for(var l=0;l<u.num_bootstrap_arguments;l++)u.bootstrap_arguments[l]=this.buf.readUint16();t.bootstrap_methods[h]=u}break;case"RuntimeInvisibleTypeAnnotations":case"RuntimeVisibleTypeAnnotations":t.num_annotations=this.buf.readUint16(),t.annotations=new Array(t.num_annotations);for(var b=0;b<t.num_annotations;b++)t.annotations[b]=this._readTypeAnnotation();break;case"SourceDebugExtension":t.debug_extension=new Array(t.attribute_length);for(var d=0;d<t.attribute_length;d++)t.debug_extension[d]=this.buf.readUint8();break;case"SourceFile":t.sourcefile_index=this.buf.readUint16();break;case"EnclosingMethod":t.class_index=this.buf.readUint16(),t.method_index=this.buf.readUint16();break;case"AnnotationDefault":t.default_value=this._readElementValue();break;case"MethodParameters":t.parameters_count=this.buf.readUint8(),t.parameters=new Array(t.parameters_count);for(var c=0;c<t.parameters_count;c++)t.parameters[c]={name_index:this.buf.readUint16(),access_flags:this.buf.readUint16()};break;case"ConstantValue":t.constantvalue_index=this.buf.readUint16();break;case"Signature":t.signature_index=this.buf.readUint16();break;case"StackMap":return this._readStackMapAttribute(t);case"Exceptions":return this._readExceptionsAttribute(t);case"StackMapTable":return this._readStackMapTableAttribute(t);case"Code":return this._readCodeAttribute(t);case"LineNumberTable":return this._readLineNumberTableAttribute(t);case"Module":return this._readModuleAttribute(t);case"ModulePackages":return this._readModulePackagesAttribute(t);case"ModuleMainClass":t.main_class_index=this.buf.readUint16();break;case"ModuleTarget":t.target_platform_index=this.buf.readUint16();break;case"ModuleHashes":t.algorithm_index=this.buf.readUint16(),t.hashes_table_length=this.buf.readUint16(),t.hashes_table=[];for(var _=t.hashes_table_length;_-- >0;){for(var g={module_name_index:this.buf.readUint16(),hash_length:this.buf.readUint16(),hash:[]},v=g.hash_length;v-- >0;)g.hash.push(this.buf.readUint8());t.hashes_table.push(g)}break;default:t.info=new Array(t.attribute_length);for(var w=0;w<t.attribute_length;w++)t.info[w]=this.buf.readUint8()}return t}},{key:"_readCodeAttribute",value:function(t){t.max_stack=this.buf.readUint16(),t.max_locals=this.buf.readUint16(),t.code_length=this.buf.readUint32(),t.code=new Array(t.code_length);for(var e=0;e<t.code_length;e++)t.code[e]=this.buf.readUint8();t.exception_table_length=this.buf.readUint16(),t.exception_table=new Array(t.exception_table_length);for(var i=0;i<t.exception_table_length;i++)t.exception_table[i]={start_pc:this.buf.readUint16(),end_pc:this.buf.readUint16(),handler_pc:this.buf.readUint16(),catch_type:this.buf.readUint16()};return t.attributes_count=this.buf.readUint16(),t.attributes=this._readAttributeInfoArray(t.attributes_count),t}},{key:"_readLineNumberTableAttribute",value:function(t){t.line_number_table_length=this.buf.readUint16(),t.line_number_table=new Array(t.line_number_table_length);for(var e=0;e<t.line_number_table_length;e++)t.line_number_table[e]={start_pc:this.buf.readUint16(),line_number:this.buf.readUint16()};return t}},{key:"_readStackMapTableAttribute",value:function(t){t.number_of_entries=this.buf.readUint16(),t.entries=new Array(t.number_of_entries);for(var e=0;e<t.number_of_entries;e++){var i={frame_type:this.buf.readUint8()},r=i.frame_type;if(r>=0&&r<=63)t.entries[e]=i;else{if(r>=64&&r<=127)i.stack=[this._readVerificationTypeInfo()];else if(247===i.frame_type)i.offset_delta=this.buf.readUint16(),i.stack=[this._readVerificationTypeInfo()];else if(r>=248&&r<=251)i.offset_delta=this.buf.readUint16();else if(r>=252&&r<=254){var n=r-251;i.offset_delta=this.buf.readUint16(),i.locals=new Array(n);for(var s=0;s<n;s++)i.locals[s]=this._readVerificationTypeInfo()}else if(255===r){i.offset_delta=this.buf.readUint16(),i.number_of_locals=this.buf.readUint16(),i.locals=new Array(i.number_of_locals);for(var a=0;a<i.number_of_locals;a++)i.locals[a]=this._readVerificationTypeInfo();i.number_of_stack_items=this.buf.readUint16(),i.stack=new Array(i.number_of_stack_items);for(var o=0;o<i.number_of_stack_items;o++)i.stack[o]=this._readVerificationTypeInfo()}t.entries[e]=i}}return t}},{key:"_readExceptionsAttribute",value:function(t){t.number_of_exceptions=this.buf.readUint16(),t.exception_index_table=new Array(t.number_of_exceptions);for(var e=0;e<t.number_of_exceptions;e++)t.exception_index_table[e]=this.buf.readUint16();return t}},{key:"_readStackMapAttribute",value:function(t){t.number_of_entries=this.buf.readUint16(),t.entries=new Array(t.number_of_entries);for(var e=0;e<t.number_of_entries;e++){var i={offset:this.buf.readUint16()};i.number_of_locals=this.buf.readUint16(),i.locals=new Array(i.number_of_locals);for(var r=0;r<i.number_of_locals;r++)i.locals[r]=this._readVerificationTypeInfo();i.number_of_stack_items=this.buf.readUint16(),i.stack=new Array(i.number_of_stack_items);for(var n=0;n<i.number_of_stack_items;n++)i.stack[n]=this._readVerificationTypeInfo();t.entries[e]=i}return t}},{key:"_readModuleAttribute",value:function(t){t.module_name_index=this.buf.readUint16(),t.module_flags=this.buf.readUint16(),t.module_version_index=this.buf.readUint16(),t.requires_count=this.buf.readUint16(),t.requires=new Array(t.requires_count);for(var e=0;e<t.requires_count;e++)t.requires[e]={requires_index:this.buf.readUint16(),requires_flags:this.buf.readUint16(),requires_version_index:this.buf.readUint16()};t.exports_count=this.buf.readUint16(),t.exports=new Array(t.exports_count);for(var i=0;i<t.exports_count;i++){var r={exports_index:this.buf.readUint16(),exports_flags:this.buf.readUint16(),exports_to_count:this.buf.readUint16()};r.exports_to_index=new Array(r.exports_to_count);for(var n=0;n<r.exports_to_count;n++)r.exports_to_index[n]=this.buf.readUint16();t.exports[i]=r}t.opens_count=this.buf.readUint16(),t.opens=new Array(t.opens_count);for(var s=0;s<t.opens_count;s++){var a={opens_index:this.buf.readUint16(),opens_flags:this.buf.readUint16(),opens_to_count:this.buf.readUint16()};a.opens_to_index=new Array(a.opens_to_count);for(var o=0;o<a.opens_to_count;o++)a.opens_to_index[o]=this.buf.readUint16();t.opens[s]=a}t.uses_count=this.buf.readUint16(),t.uses_index=new Array(t.uses_count);for(var f=0;f<t.uses_count;f++)t.uses_index[f]=this.buf.readUint16();t.provides_count=this.buf.readUint16(),t.provides=new Array(t.provides_count);for(var h=0;h<t.provides_count;h++){var u={provides_index:this.buf.readUint16(),provides_with_count:this.buf.readUint16()};u.provides_with_index=new Array(u.provides_with_count);for(var l=0;l<u.provides_with_count;l++)u.provides_with_index[l]=this.buf.readUint16();t.provides[h]=u}return t}},{key:"_readModulePackagesAttribute",value:function(t){t.package_count=this.buf.readUint16(),t.package_index=new Array(t.package_count);for(var e=0;e<t.package_count;e++)t.package_index[e]=this.buf.readUint16();return t}},{key:"_readAttributeAnnotation",value:function(){var t={type_index:this.buf.readUint16(),num_element_value_pairs:this.buf.readUint16()};t.element_value_pairs=new Array(t.num_element_value_pairs);for(var e=0;e<t.num_element_value_pairs;e++)t.element_value_pairs[e]={element_name_index:this.buf.readUint16(),element_value:this._readElementValue()};return t}},{key:"_readElementValue",value:function(){var t={tag:this.buf.readUint8(),value:{}};switch(t.tag){case 101:t.value.enum_const_value={type_name_index:this.buf.readUint16(),const_name_index:this.buf.readUint16()};break;case 99:t.value.class_info_index=this.buf.readUint16();break;case 91:for(var e=this.buf.readUint16(),i=new Array(e),r=0;r<e;r++)i[r]=this._readElementValue();t.value.array_value={num_values:e,values:i};break;case 64:t.value.annotation=this._readAttributeAnnotation();break;case 66:case 67:case 68:case 70:case 73:case 74:case 83:case 90:case 115:t.value.const_value_index=this.buf.readUint16();break;default:throw Error("Unexpected tag: "+t.tag)}return t}},{key:"_readInterfaces",value:function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=this.buf.readUint16();return e}},{key:"_readConstantPool",value:function(t){for(var e=new Array(t),i=1;i<=t;i++){var r=this._readConstantPoolEntry();e[i]=r,r.tag!==u.default.LONG&&r.tag!==u.default.DOUBLE||(e[++i]=void 0)}return e}},{key:"_readUtf8PoolEntry",value:function(t){for(var e=this.buf.readUint16(),i=new Array(e),r=0;r<e;r++)i[r]=this.buf.readUint8();return{tag:t,length:e,bytes:i}}},{key:"_readConstantPoolEntry",value:function(){var t=this.buf.readUint8();switch(t){case u.default.UTF8:return this._readUtf8PoolEntry(t);case u.default.INTEGER:case u.default.FLOAT:return{tag:t,bytes:this.buf.readUint32()};case u.default.LONG:case u.default.DOUBLE:return{tag:t,high_bytes:this.buf.readUint32(),low_bytes:this.buf.readUint32()};case u.default.PACKAGE:case u.default.MODULE:case u.default.CLASS:return{tag:t,name_index:this.buf.readUint16()};case u.default.STRING:return{tag:t,string_index:this.buf.readUint16()};case u.default.FIELDREF:case u.default.METHODREF:case u.default.INTERFACE_METHODREF:return{tag:t,class_index:this.buf.readUint16(),name_and_type_index:this.buf.readUint16()};case u.default.NAME_AND_TYPE:return{tag:t,name_index:this.buf.readUint16(),descriptor_index:this.buf.readUint16()};case u.default.METHOD_HANDLE:return{tag:t,reference_kind:this.buf.readUint8(),reference_index:this.buf.readUint16()};case u.default.METHOD_TYPE:return{tag:t,descriptor_index:this.buf.readUint16()};case u.default.INVOKE_DYNAMIC:return{tag:t,bootstrap_method_attr_index:this.buf.readUint16(),name_and_type_index:this.buf.readUint16()};default:throw Error("Unexpected tag: "+t)}}}]),t}();t.exports=l}).call(e,i(2))},function(t,e){},function(t,e,i){var r,n,s;(function(t){!function(a,o){i(5).amd?(n=[i(6)],r=o,void 0!==(s="function"==typeof r?r.apply(e,n):r)&&(t.exports=s)):"object"==typeof t&&t&&t.exports?t.exports=function(){var t;try{t=i(6)}catch(t){}return o(t)}():(a.dcodeIO=a.dcodeIO||{}).ByteBuffer=o(a.dcodeIO.Long)}(this,function(t){"use strict";function e(t){var e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}function i(){var t=[],e=[];return function(){if(0===arguments.length)return e.join("")+f.apply(String,t);t.length+arguments.length>1024&&(e.push(f.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}}function r(t,e,i,r,n){var s,a,o=8*n-r-1,f=(1<<o)-1,h=f>>1,u=-7,l=i?n-1:0,b=i?-1:1,d=t[e+l];for(l+=b,s=d&(1<<-u)-1,d>>=-u,u+=o;u>0;s=256*s+t[e+l],l+=b,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=r;u>0;a=256*a+t[e+l],l+=b,u-=8);if(0===s)s=1-h;else{if(s===f)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),s-=h}return(d?-1:1)*a*Math.pow(2,s-r)}function n(t,e,i,r,n,s){var a,o,f,h=8*s-n-1,u=(1<<h)-1,l=u>>1,b=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,c=r?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-a))<1&&(a--,f*=2),e+=a+l>=1?b/f:b*Math.pow(2,1-l),e*f>=2&&(a++,f/=2),a+l>=u?(o=0,a=u):a+l>=1?(o=(e*f-1)*Math.pow(2,n),a+=l):(o=e*Math.pow(2,l-1)*Math.pow(2,n),a=0));n>=8;t[i+d]=255&o,d+=c,o/=256,n-=8);for(a=a<<n|o,h+=n;h>0;t[i+d]=255&a,d+=c,a/=256,h-=8);t[i+d-c]|=128*_}var s=function(t,e,i){if(void 0===t&&(t=s.DEFAULT_CAPACITY),void 0===e&&(e=s.DEFAULT_ENDIAN),void 0===i&&(i=s.DEFAULT_NOASSERT),!i){if((t|=0)<0)throw RangeError("Illegal capacity");e=!!e,i=!!i}this.buffer=0===t?o:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=e,this.noAssert=i};s.VERSION="5.0.1",s.LITTLE_ENDIAN=!0,s.BIG_ENDIAN=!1,s.DEFAULT_CAPACITY=16,s.DEFAULT_ENDIAN=s.BIG_ENDIAN,s.DEFAULT_NOASSERT=!1,s.Long=t||null;var a=s.prototype;a.__isByteBuffer__,Object.defineProperty(a,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var o=new ArrayBuffer(0),f=String.fromCharCode;s.accessor=function(){return Uint8Array},s.allocate=function(t,e,i){return new s(t,e,i)},s.concat=function(t,e,i,r){"boolean"!=typeof e&&"string"==typeof e||(r=i,i=e,e=void 0);for(var n,a=0,o=0,f=t.length;o<f;++o)s.isByteBuffer(t[o])||(t[o]=s.wrap(t[o],e)),(n=t[o].limit-t[o].offset)>0&&(a+=n);if(0===a)return new s(0,i,r);var h,u=new s(a,i,r);for(o=0;o<f;)h=t[o++],(n=h.limit-h.offset)<=0||(u.view.set(h.view.subarray(h.offset,h.limit),u.offset),u.offset+=n);return u.limit=u.offset,u.offset=0,u},s.isByteBuffer=function(t){return!0===(t&&t.__isByteBuffer__)},s.type=function(){return ArrayBuffer},s.wrap=function(t,e,i,r){if("string"!=typeof e&&(r=i,i=e,e=void 0),"string"==typeof t)switch(void 0===e&&(e="utf8"),e){case"base64":return s.fromBase64(t,i);case"hex":return s.fromHex(t,i);case"binary":return s.fromBinary(t,i);case"utf8":return s.fromUTF8(t,i);case"debug":return s.fromDebug(t,i);default:throw Error("Unsupported encoding: "+e)}if(null===t||"object"!=typeof t)throw TypeError("Illegal buffer");var n;if(s.isByteBuffer(t))return n=a.clone.call(t),n.markedOffset=-1,n;if(t instanceof Uint8Array)n=new s(0,i,r),t.length>0&&(n.buffer=t.buffer,n.offset=t.byteOffset,n.limit=t.byteOffset+t.byteLength,n.view=new Uint8Array(t.buffer));else if(t instanceof ArrayBuffer)n=new s(0,i,r),t.byteLength>0&&(n.buffer=t,n.offset=0,n.limit=t.byteLength,n.view=t.byteLength>0?new Uint8Array(t):null);else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");n=new s(t.length,i,r),n.limit=t.length;for(var o=0;o<t.length;++o)n.view[o]=t[o]}return n},a.writeBitSet=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if(!(t instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var r,n=e,s=t.length,a=s>>3,o=0;for(e+=this.writeVarint32(s,e);a--;)r=1&!!t[o++]|(1&!!t[o++])<<1|(1&!!t[o++])<<2|(1&!!t[o++])<<3|(1&!!t[o++])<<4|(1&!!t[o++])<<5|(1&!!t[o++])<<6|(1&!!t[o++])<<7,this.writeByte(r,e++);if(o<s){var f=0;for(r=0;o<s;)r|=(1&!!t[o++])<<f++;this.writeByte(r,e++)}return i?(this.offset=e,this):e-n},a.readBitSet=function(t){var e=void 0===t;e&&(t=this.offset);var i,r=this.readVarint32(t),n=r.value,s=n>>3,a=0,o=[];for(t+=r.length;s--;)i=this.readByte(t++),o[a++]=!!(1&i),o[a++]=!!(2&i),o[a++]=!!(4&i),o[a++]=!!(8&i),o[a++]=!!(16&i),o[a++]=!!(32&i),o[a++]=!!(64&i),o[a++]=!!(128&i);if(a<n){var f=0;for(i=this.readByte(t++);a<n;)o[a++]=!!(i>>f++&1)}return e&&(this.offset=t),o},a.readBytes=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.byteLength)}var r=this.slice(e,e+t);return i&&(this.offset+=t),r},a.writeBytes=a.append,a.writeInt8=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=1,this.view[e]=t,i&&(this.offset+=1),this},a.writeByte=a.writeInt8,a.readInt8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=this.view[t];return 128==(128&i)&&(i=-(255-i+1)),e&&(this.offset+=1),i},a.readByte=a.readInt8,a.writeUint8=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=1,this.view[e]=t,i&&(this.offset+=1),this},a.writeUInt8=a.writeUint8,a.readUint8=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=this.view[t];return e&&(this.offset+=1),i},a.readUInt8=a.readUint8,a.writeInt16=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),i&&(this.offset+=2),this},a.writeShort=a.writeInt16,a.readInt16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t],i|=this.view[t+1]<<8):(i=this.view[t]<<8,i|=this.view[t+1]),32768==(32768&i)&&(i=-(65535-i+1)),e&&(this.offset+=2),i},a.readShort=a.readInt16,a.writeUint16=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=2,this.littleEndian?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),i&&(this.offset+=2),this},a.writeUInt16=a.writeUint16,a.readUint16=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t],i|=this.view[t+1]<<8):(i=this.view[t]<<8,i|=this.view[t+1]),e&&(this.offset+=2),i},a.readUInt16=a.readUint16,a.writeInt32=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),i&&(this.offset+=4),this},a.writeInt=a.writeInt32,a.readInt32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0),i|=0,e&&(this.offset+=4),i},a.readInt=a.readInt32,a.writeUint32=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,this.littleEndian?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),i&&(this.offset+=4),this},a.writeUInt32=a.writeUint32,a.readUint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i=0;return this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0):(i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0),e&&(this.offset+=4),i},a.readUInt32=a.readUint32,t&&(a.writeInt64=function(e,i){var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e)),i+=8;var n=this.buffer.byteLength;i>n&&this.resize((n*=2)>i?n:i),i-=8;var s=e.low,a=e.high;return this.littleEndian?(this.view[i+3]=s>>>24&255,this.view[i+2]=s>>>16&255,this.view[i+1]=s>>>8&255,this.view[i]=255&s,i+=4,this.view[i+3]=a>>>24&255,this.view[i+2]=a>>>16&255,this.view[i+1]=a>>>8&255,this.view[i]=255&a):(this.view[i]=a>>>24&255,this.view[i+1]=a>>>16&255,this.view[i+2]=a>>>8&255,this.view[i+3]=255&a,i+=4,this.view[i]=s>>>24&255,this.view[i+1]=s>>>16&255,this.view[i+2]=s>>>8&255,this.view[i+3]=255&s),r&&(this.offset+=8),this},a.writeLong=a.writeInt64,a.readInt64=function(e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=0,n=0;this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0,e+=4,n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0,e+=4,r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0);var s=new t(r,n,!1);return i&&(this.offset+=8),s},a.readLong=a.readInt64,a.writeUint64=function(e,i){var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e)),i+=8;var n=this.buffer.byteLength;i>n&&this.resize((n*=2)>i?n:i),i-=8;var s=e.low,a=e.high;return this.littleEndian?(this.view[i+3]=s>>>24&255,this.view[i+2]=s>>>16&255,this.view[i+1]=s>>>8&255,this.view[i]=255&s,i+=4,this.view[i+3]=a>>>24&255,this.view[i+2]=a>>>16&255,this.view[i+1]=a>>>8&255,this.view[i]=255&a):(this.view[i]=a>>>24&255,this.view[i+1]=a>>>16&255,this.view[i+2]=a>>>8&255,this.view[i+3]=255&a,i+=4,this.view[i]=s>>>24&255,this.view[i+1]=s>>>16&255,this.view[i+2]=s>>>8&255,this.view[i+3]=255&s),r&&(this.offset+=8),this},a.writeUInt64=a.writeUint64,a.readUint64=function(e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=0,n=0;this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0,e+=4,n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0,e+=4,r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0);var s=new t(r,n,!0);return i&&(this.offset+=8),s},a.readUInt64=a.readUint64),a.writeFloat32=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=4,n(this.view,t,e,this.littleEndian,23,4),i&&(this.offset+=4),this},a.writeFloat=a.writeFloat32,a.readFloat32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i=r(this.view,t,this.littleEndian,23,4);return e&&(this.offset+=4),i},a.readFloat=a.readFloat32,a.writeFloat64=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;var r=this.buffer.byteLength;return e>r&&this.resize((r*=2)>e?r:e),e-=8,n(this.view,t,e,this.littleEndian,52,8),i&&(this.offset+=8),this},a.writeDouble=a.writeFloat64,a.readFloat64=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=r(this.view,t,this.littleEndian,52,8);return e&&(this.offset+=8),i},a.readDouble=a.readFloat64,s.MAX_VARINT32_BYTES=5,s.calculateVarint32=function(t){return t>>>=0,t<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5},s.zigZagEncode32=function(t){return((t|=0)<<1^t>>31)>>>0},s.zigZagDecode32=function(t){return t>>>1^-(1&t)|0},a.writeVarint32=function(t,e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var r,n=s.calculateVarint32(t);e+=n;var a=this.buffer.byteLength;for(e>a&&this.resize((a*=2)>e?a:e),e-=n,t>>>=0;t>=128;)r=127&t|128,this.view[e++]=r,t>>>=7;return this.view[e++]=t,i?(this.offset=e,this):n},a.writeVarint32ZigZag=function(t,e){return this.writeVarint32(s.zigZagEncode32(t),e)},a.readVarint32=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i,r=0,n=0;do{if(!this.noAssert&&t>this.limit){var s=Error("Truncated");throw s.truncated=!0,s}i=this.view[t++],r<5&&(n|=(127&i)<<7*r),++r}while(0!=(128&i));return n|=0,e?(this.offset=t,n):{value:n,length:r}},a.readVarint32ZigZag=function(t){var e=this.readVarint32(t);return"object"==typeof e?e.value=s.zigZagDecode32(e.value):e=s.zigZagDecode32(e),e},t&&(s.MAX_VARINT64_BYTES=10,s.calculateVarint64=function(e){"number"==typeof e?e=t.fromNumber(e):"string"==typeof e&&(e=t.fromString(e));var i=e.toInt()>>>0,r=e.shiftRightUnsigned(28).toInt()>>>0,n=e.shiftRightUnsigned(56).toInt()>>>0;return 0==n?0==r?i<16384?i<128?1:2:i<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:n<128?9:10},s.zigZagEncode64=function(e){return"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned()),e.shiftLeft(1).xor(e.shiftRight(63)).toUnsigned()},s.zigZagDecode64=function(e){return"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned()),e.shiftRightUnsigned(1).xor(e.and(t.ONE).toSigned().negate()).toSigned()},a.writeVarint64=function(e,i){var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e,!1):"string"==typeof e?e=t.fromString(e,!1):!1!==e.unsigned&&(e=e.toSigned());var n=s.calculateVarint64(e),a=e.toInt()>>>0,o=e.shiftRightUnsigned(28).toInt()>>>0,f=e.shiftRightUnsigned(56).toInt()>>>0;i+=n;var h=this.buffer.byteLength;switch(i>h&&this.resize((h*=2)>i?h:i),i-=n,n){case 10:this.view[i+9]=f>>>7&1;case 9:this.view[i+8]=9!==n?128|f:127&f;case 8:this.view[i+7]=8!==n?o>>>21|128:o>>>21&127;case 7:this.view[i+6]=7!==n?o>>>14|128:o>>>14&127;case 6:this.view[i+5]=6!==n?o>>>7|128:o>>>7&127;case 5:this.view[i+4]=5!==n?128|o:127&o;case 4:this.view[i+3]=4!==n?a>>>21|128:a>>>21&127;case 3:this.view[i+2]=3!==n?a>>>14|128:a>>>14&127;case 2:this.view[i+1]=2!==n?a>>>7|128:a>>>7&127;case 1:this.view[i]=1!==n?128|a:127&a}return r?(this.offset+=n,this):n},a.writeVarint64ZigZag=function(t,e){return this.writeVarint64(s.zigZagEncode64(t),e)},a.readVarint64=function(e){var i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=e,n=0,s=0,a=0,o=0;if(o=this.view[e++],n=127&o,128&o&&(o=this.view[e++],n|=(127&o)<<7,(128&o||this.noAssert&&void 0===o)&&(o=this.view[e++],n|=(127&o)<<14,(128&o||this.noAssert&&void 0===o)&&(o=this.view[e++],n|=(127&o)<<21,(128&o||this.noAssert&&void 0===o)&&(o=this.view[e++],s=127&o,(128&o||this.noAssert&&void 0===o)&&(o=this.view[e++],s|=(127&o)<<7,(128&o||this.noAssert&&void 0===o)&&(o=this.view[e++],s|=(127&o)<<14,(128&o||this.noAssert&&void 0===o)&&(o=this.view[e++],s|=(127&o)<<21,(128&o||this.noAssert&&void 0===o)&&(o=this.view[e++],a=127&o,(128&o||this.noAssert&&void 0===o)&&(o=this.view[e++],a|=(127&o)<<7,128&o||this.noAssert&&void 0===o))))))))))throw Error("Buffer overrun");var f=t.fromBits(n|s<<28,s>>>4|a<<24,!1);return i?(this.offset=e,f):{value:f,length:e-r}},a.readVarint64ZigZag=function(e){var i=this.readVarint64(e);return i&&i.value instanceof t?i.value=s.zigZagDecode64(i.value):i=s.zigZagDecode64(i),i}),a.writeCString=function(t,i){var r=void 0===i;r&&(i=this.offset);var n,s=t.length;if(!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");for(n=0;n<s;++n)if(0===t.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}s=u.calculateUTF16asUTF8(e(t))[1],i+=s+1;var a=this.buffer.byteLength;return i>a&&this.resize((a*=2)>i?a:i),i-=s+1,u.encodeUTF16toUTF8(e(t),function(t){this.view[i++]=t}.bind(this)),this.view[i++]=0,r?(this.offset=i,this):s},a.readCString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,n=t,s=-1;return u.decodeUTF8toUTF16(function(){if(0===s)return null;if(t>=this.limit)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.limit);return s=this.view[t++],0===s?null:s}.bind(this),r=i(),!0),e?(this.offset=t,r()):{string:r(),length:t-n}},a.writeIString=function(t,i){var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var n,s=i;n=u.calculateUTF16asUTF8(e(t),this.noAssert)[1],i+=4+n;var a=this.buffer.byteLength;if(i>a&&this.resize((a*=2)>i?a:i),i-=4+n,this.littleEndian?(this.view[i+3]=n>>>24&255,this.view[i+2]=n>>>16&255,this.view[i+1]=n>>>8&255,this.view[i]=255&n):(this.view[i]=n>>>24&255,this.view[i+1]=n>>>16&255,this.view[i+2]=n>>>8&255,this.view[i+3]=255&n),i+=4,u.encodeUTF16toUTF8(e(t),function(t){this.view[i++]=t}.bind(this)),i!==s+4+n)throw RangeError("Illegal range: Truncated data, "+i+" == "+(i+4+n));return r?(this.offset=i,this):i-s},a.readIString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i=t,r=this.readUint32(t),n=this.readUTF8String(r,s.METRICS_BYTES,t+=4);return t+=n.length,e?(this.offset=t,n.string):{string:n.string,length:t-i}},s.METRICS_CHARS="c",s.METRICS_BYTES="b",a.writeUTF8String=function(t,i){var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var n,s=i;n=u.calculateUTF16asUTF8(e(t))[1],i+=n;var a=this.buffer.byteLength;return i>a&&this.resize((a*=2)>i?a:i),i-=n,u.encodeUTF16toUTF8(e(t),function(t){this.view[i++]=t}.bind(this)),r?(this.offset=i,this):i-s},a.writeString=a.writeUTF8String,s.calculateUTF8Chars=function(t){return u.calculateUTF16asUTF8(e(t))[0]},s.calculateUTF8Bytes=function(t){return u.calculateUTF16asUTF8(e(t))[1]},s.calculateString=s.calculateUTF8Bytes,a.readUTF8String=function(t,e,r){"number"==typeof e&&(r=e,e=void 0);var n=void 0===r;if(n&&(r=this.offset),void 0===e&&(e=s.METRICS_CHARS),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var a,o=0,f=r;if(e===s.METRICS_CHARS){if(a=i(),u.decodeUTF8(function(){return o<t&&r<this.limit?this.view[r++]:null}.bind(this),function(t){++o,u.UTF8toUTF16(t,a)}),o!==t)throw RangeError("Illegal range: Truncated data, "+o+" == "+t);return n?(this.offset=r,a()):{string:a(),length:r-f}}if(e===s.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+t+") <= "+this.buffer.byteLength)}var h=r+t;if(u.decodeUTF8toUTF16(function(){return r<h?this.view[r++]:null}.bind(this),a=i(),this.noAssert),r!==h)throw RangeError("Illegal range: Truncated data, "+r+" == "+h);return n?(this.offset=r,a()):{string:a(),length:r-f}}throw TypeError("Unsupported metrics: "+e)},a.readString=a.readUTF8String,a.writeVString=function(t,i){var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var n,a,o=i;n=u.calculateUTF16asUTF8(e(t),this.noAssert)[1],a=s.calculateVarint32(n),i+=a+n;var f=this.buffer.byteLength;if(i>f&&this.resize((f*=2)>i?f:i),i-=a+n,i+=this.writeVarint32(n,i),u.encodeUTF16toUTF8(e(t),function(t){this.view[i++]=t}.bind(this)),i!==o+n+a)throw RangeError("Illegal range: Truncated data, "+i+" == "+(i+n+a));return r?(this.offset=i,this):i-o},a.readVString=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=t,r=this.readVarint32(t),n=this.readUTF8String(r.value,s.METRICS_BYTES,t+=r.length);return t+=n.length,e?(this.offset=t,n.string):{string:n.string,length:t-i}},a.append=function(t,e,i){"number"!=typeof e&&"string"==typeof e||(i=e,e=void 0);var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}t instanceof s||(t=s.wrap(t,e));var n=t.limit-t.offset;if(n<=0)return this;i+=n;var a=this.buffer.byteLength;return i>a&&this.resize((a*=2)>i?a:i),i-=n,this.view.set(t.view.subarray(t.offset,t.limit),i),t.offset+=n,r&&(this.offset+=n),this},a.appendTo=function(t,e){return t.append(this,e),this},a.assert=function(t){return this.noAssert=!t,this},a.capacity=function(){return this.buffer.byteLength},a.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},a.clone=function(t){var e=new s(0,this.littleEndian,this.noAssert);return t?(e.buffer=new ArrayBuffer(this.buffer.byteLength),e.view=new Uint8Array(e.buffer)):(e.buffer=this.buffer,e.view=this.view),e.offset=this.offset,e.markedOffset=this.markedOffset,e.limit=this.limit,e},a.compact=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;var i=e-t;if(0===i)return this.buffer=o,this.view=null,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;var r=new ArrayBuffer(i),n=new Uint8Array(r);return n.set(this.view.subarray(t,e)),this.buffer=r,this.view=n,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=i,this},a.copy=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(t===e)return new s(0,this.littleEndian,this.noAssert);var i=e-t,r=new s(i,this.littleEndian,this.noAssert);return r.offset=0,r.limit=i,r.markedOffset>=0&&(r.markedOffset-=t),this.copyTo(r,0,t,e),r},a.copyTo=function(t,e,i,r){var n,a;if(!this.noAssert&&!s.isByteBuffer(t))throw TypeError("Illegal target: Not a ByteBuffer");if(e=(a=void 0===e)?t.offset:0|e,i=(n=void 0===i)?this.offset:0|i,r=void 0===r?this.limit:0|r,e<0||e>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+e+" <= "+t.buffer.byteLength);if(i<0||r>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+i+" <= "+this.buffer.byteLength);var o=r-i;return 0===o?t:(t.ensureCapacity(e+o),t.view.set(this.view.subarray(i,r),e),n&&(this.offset+=o),a&&(t.offset+=o),this)},a.ensureCapacity=function(t){var e=this.buffer.byteLength;return e<t?this.resize((e*=2)>t?e:t):this},a.fill=function(t,e,i){var r=void 0===e;if(r&&(e=this.offset),"string"==typeof t&&t.length>0&&(t=t.charCodeAt(0)),void 0===e&&(e=this.offset),void 0===i&&(i=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal end: Not an integer");if(i>>>=0,e<0||e>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+i+" <= "+this.buffer.byteLength)}if(e>=i)return this;for(;e<i;)this.view[e++]=t;return r&&(this.offset=e),this},a.flip=function(){return this.limit=this.offset,this.offset=0,this},a.mark=function(t){if(t=void 0===t?this.offset:t,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this},a.order=function(t){if(!this.noAssert&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this},a.LE=function(t){return this.littleEndian=void 0===t||!!t,this},a.BE=function(t){return this.littleEndian=void 0!==t&&!t,this},a.prepend=function(t,e,i){"number"!=typeof e&&"string"==typeof e||(i=e,e=void 0);var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}t instanceof s||(t=s.wrap(t,e));var n=t.limit-t.offset;if(n<=0)return this;var a=n-i;if(a>0){var o=new ArrayBuffer(this.buffer.byteLength+a),f=new Uint8Array(o);f.set(this.view.subarray(i,this.buffer.byteLength),n),this.buffer=o,this.view=f,this.offset+=a,this.markedOffset>=0&&(this.markedOffset+=a),this.limit+=a,i+=a}else{new Uint8Array(this.buffer)}return this.view.set(t.view.subarray(t.offset,t.limit),i-n),t.offset=t.limit,r&&(this.offset-=n),this},a.prependTo=function(t,e){return t.prepend(this,e),this},a.printDebug=function(t){"function"!=typeof t&&(t=console.log.bind(console)),t(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},a.remaining=function(){return this.limit-this.offset},a.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},a.resize=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if((t|=0)<0)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){var e=new ArrayBuffer(t),i=new Uint8Array(e);i.set(this.view),this.buffer=e,this.view=i}return this},a.reverse=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e?this:(Array.prototype.reverse.call(this.view.subarray(t,e)),this)},a.skip=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var e=this.offset+t;if(!this.noAssert&&(e<0||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this},a.slice=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var i=this.clone();return i.offset=t,i.limit=e,i},a.toBuffer=function(t){var e=this.offset,i=this.limit;if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal limit: Not an integer");if(i>>>=0,e<0||e>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+i+" <= "+this.buffer.byteLength)}if(!t&&0===e&&i===this.buffer.byteLength)return this.buffer;if(e===i)return o;var r=new ArrayBuffer(i-e);return new Uint8Array(r).set(new Uint8Array(this.buffer).subarray(e,i),0),r},a.toArrayBuffer=a.toBuffer,a.toString=function(t,e,i){if(void 0===t)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof t&&(t="utf8",e=t,i=e),t){case"utf8":return this.toUTF8(e,i);case"base64":return this.toBase64(e,i);case"hex":return this.toHex(e,i);case"binary":return this.toBinary(e,i);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+t)}};var h=function(){for(var t={},e=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],i=[],r=0,n=e.length;r<n;++r)i[e[r]]=r;return t.encode=function(t,i){for(var r,n;null!==(r=t());)i(e[r>>2&63]),n=(3&r)<<4,null!==(r=t())?(n|=r>>4&15,i(e[63&(n|r>>4&15)]),n=(15&r)<<2,null!==(r=t())?(i(e[63&(n|r>>6&3)]),i(e[63&r])):(i(e[63&n]),i(61))):(i(e[63&n]),i(61),i(61))},t.decode=function(t,e){function r(t){throw Error("Illegal character code: "+t)}for(var n,s,a;null!==(n=t());)if(s=i[n],void 0===s&&r(n),null!==(n=t())&&(a=i[n],void 0===a&&r(n),e(s<<2>>>0|(48&a)>>4),null!==(n=t()))){if(void 0===(s=i[n])){if(61===n)break;r(n)}if(e((15&a)<<4>>>0|(60&s)>>2),null!==(n=t())){if(void 0===(a=i[n])){if(61===n)break;r(n)}e((3&s)<<6>>>0|a)}}},t.test=function(t){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t)},t}();a.toBase64=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),t|=0,e|=0,t<0||e>this.capacity||t>e)throw RangeError("begin, end");var r;return h.encode(function(){return t<e?this.view[t++]:null}.bind(this),r=i()),r()},s.fromBase64=function(t,i){if("string"!=typeof t)throw TypeError("str");var r=new s(t.length/4*3,i),n=0;return h.decode(e(t),function(t){r.view[n++]=t}),r.limit=n,r},s.btoa=function(t){return s.fromBinary(t).toBase64()},s.atob=function(t){return s.fromBase64(t).toBinary()},a.toBinary=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),t|=0,e|=0,t<0||e>this.capacity()||t>e)throw RangeError("begin, end");if(t===e)return"";for(var i=[],r=[];t<e;)i.push(this.view[t++]),i.length>=1024&&(r.push(String.fromCharCode.apply(String,i)),i=[]);return r.join("")+String.fromCharCode.apply(String,i)},s.fromBinary=function(t,e){if("string"!=typeof t)throw TypeError("str");for(var i,r=0,n=t.length,a=new s(n,e);r<n;){if((i=t.charCodeAt(r))>255)throw RangeError("illegal char code: "+i);a.view[r++]=i}return a.limit=n,a},a.toDebug=function(t){for(var e,i=-1,r=this.buffer.byteLength,n="",s="",a="";i<r;){if(-1!==i&&(e=this.view[i],n+=e<16?"0"+e.toString(16).toUpperCase():e.toString(16).toUpperCase(),t&&(s+=e>32&&e<127?String.fromCharCode(e):".")),++i,t&&i>0&&i%16==0&&i!==r){for(;n.length<51;)n+=" ";a+=n+s+"\n",n=s=""}i===this.offset&&i===this.limit?n+=i===this.markedOffset?"!":"|":i===this.offset?n+=i===this.markedOffset?"[":"<":i===this.limit?n+=i===this.markedOffset?"]":">":n+=i===this.markedOffset?"'":t||0!==i&&i!==r?" ":""}if(t&&" "!==n){for(;n.length<51;)n+=" ";a+=n+s+"\n"}return t?a:n},s.fromDebug=function(t,e,i){for(var r,n,a=t.length,o=new s((a+1)/3|0,e,i),f=0,h=0,u=!1,l=!1,b=!1,d=!1,c=!1;f<a;){switch(r=t.charAt(f++)){case"!":if(!i){if(l||b||d){c=!0;break}l=b=d=!0}o.offset=o.markedOffset=o.limit=h,u=!1;break;case"|":if(!i){if(l||d){c=!0;break}l=d=!0}o.offset=o.limit=h,u=!1;break;case"[":if(!i){if(l||b){c=!0;break}l=b=!0}o.offset=o.markedOffset=h,u=!1;break;case"<":if(!i){if(l){c=!0;break}l=!0}o.offset=h,u=!1;break;case"]":if(!i){if(d||b){c=!0;break}d=b=!0}o.limit=o.markedOffset=h,u=!1;break;case">":if(!i){if(d){c=!0;break}d=!0}o.limit=h,u=!1;break;case"'":if(!i){if(b){c=!0;break}b=!0}o.markedOffset=h,u=!1;break;case" ":u=!1;break;default:if(!i&&u){c=!0;break}if(n=parseInt(r+t.charAt(f++),16),!i&&(isNaN(n)||n<0||n>255))throw TypeError("Illegal str: Not a debug encoded string");o.view[h++]=n,u=!0}if(c)throw TypeError("Illegal str: Invalid symbol at "+f)}if(!i){if(!l||!d)throw TypeError("Illegal str: Missing offset or limit");if(h<o.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+h+" < "+a)}return o},a.toHex=function(t,e){if(t=void 0===t?this.offset:t,e=void 0===e?this.limit:e,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}for(var i,r=new Array(e-t);t<e;)i=this.view[t++],i<16?r.push("0",i.toString(16)):r.push(i.toString(16));return r.join("")},s.fromHex=function(t,e,i){if(!i){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var r,n=t.length,a=new s(n/2|0,e),o=0,f=0;o<n;o+=2){if(r=parseInt(t.substring(o,o+2),16),!i&&(!isFinite(r)||r<0||r>255))throw TypeError("Illegal str: Contains non-hex characters");a.view[f++]=r}return a.limit=f,a};var u=function(){var t={};return t.MAX_CODEPOINT=1114111,t.encodeUTF8=function(t,e){var i=null;for("number"==typeof t&&(i=t,t=function(){return null});null!==i||null!==(i=t());)i<128?e(127&i):i<2048?(e(i>>6&31|192),e(63&i|128)):i<65536?(e(i>>12&15|224),e(i>>6&63|128),e(63&i|128)):(e(i>>18&7|240),e(i>>12&63|128),e(i>>6&63|128),e(63&i|128)),i=null},t.decodeUTF8=function(t,e){for(var i,r,n,s,a=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(i=t());)if(0==(128&i))e(i);else if(192==(224&i))null===(r=t())&&a([i,r]),e((31&i)<<6|63&r);else if(224==(240&i))(null===(r=t())||null===(n=t()))&&a([i,r,n]),e((15&i)<<12|(63&r)<<6|63&n);else{if(240!=(248&i))throw RangeError("Illegal starting byte: "+i);(null===(r=t())||null===(n=t())||null===(s=t()))&&a([i,r,n,s]),e((7&i)<<18|(63&r)<<12|(63&n)<<6|63&s)}},t.UTF16toUTF8=function(t,e){for(var i,r=null;;){if(null===(i=null!==r?r:t()))break;i>=55296&&i<=57343&&null!==(r=t())&&r>=56320&&r<=57343?(e(1024*(i-55296)+r-56320+65536),r=null):e(i)}null!==r&&e(r)},t.UTF8toUTF16=function(t,e){var i=null;for("number"==typeof t&&(i=t,t=function(){return null});null!==i||null!==(i=t());)i<=65535?e(i):(i-=65536,e(55296+(i>>10)),e(i%1024+56320)),i=null},t.encodeUTF16toUTF8=function(e,i){t.UTF16toUTF8(e,function(e){t.encodeUTF8(e,i)})},t.decodeUTF8toUTF16=function(e,i){t.decodeUTF8(e,function(e){t.UTF8toUTF16(e,i)})},t.calculateCodePoint=function(t){return t<128?1:t<2048?2:t<65536?3:4},t.calculateUTF8=function(t){for(var e,i=0;null!==(e=t());)i+=e<128?1:e<2048?2:e<65536?3:4;return i},t.calculateUTF16asUTF8=function(e){var i=0,r=0;return t.UTF16toUTF8(e,function(t){++i,r+=t<128?1:t<2048?2:t<65536?3:4}),[i,r]},t}();return a.toUTF8=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r;try{u.decodeUTF8toUTF16(function(){return t<e?this.view[t++]:null}.bind(this),r=i())}catch(i){if(t!==e)throw RangeError("Illegal range: Truncated data, "+t+" != "+e)}return r()},s.fromUTF8=function(t,i,r){if(!r&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");var n=new s(u.calculateUTF16asUTF8(e(t),!0)[1],i,r),a=0;return u.encodeUTF16toUTF8(e(t),function(t){n.view[a++]=t}),n.limit=a,n},s})}).call(e,i(4)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,i){var r,n,s;(function(t){!function(a,o){i(5).amd?(n=[],r=o,void 0!==(s="function"==typeof r?r.apply(e,n):r)&&(t.exports=s)):"object"==typeof t&&t&&t.exports?t.exports=o():(a.dcodeIO=a.dcodeIO||{}).Long=o()}(this,function(){"use strict";function t(t,e,i){this.low=0|t,this.high=0|e,this.unsigned=!!i}function e(t){return!0===(t&&t.__isLong__)}function i(t,e){var i,r,s;return e?(t>>>=0,(s=0<=t&&t<256)&&(r=f[t])?r:(i=n(t,(0|t)<0?-1:0,!0),s&&(f[t]=i),i)):(t|=0,(s=-128<=t&&t<128)&&(r=o[t])?r:(i=n(t,t<0?-1:0,!1),s&&(o[t]=i),i))}function r(t,e){if(isNaN(t)||!isFinite(t))return e?v:g;if(e){if(t<0)return v;if(t>=d)return U}else{if(t<=-c)return E;if(t+1>=c)return m}return t<0?r(-t,e).neg():n(t%b|0,t/b|0,e)}function n(e,i,r){return new t(e,i,r)}function s(t,e,i){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return g;if("number"==typeof e?(i=e,e=!1):e=!!e,(i=i||10)<2||36<i)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return s(t.substring(1),e,i).neg();for(var a=r(h(i,8)),o=g,f=0;f<t.length;f+=8){var u=Math.min(8,t.length-f),l=parseInt(t.substring(f,f+u),i);if(u<8){var b=r(h(i,u));o=o.mul(b).add(r(l))}else o=o.mul(a),o=o.add(r(l))}return o.unsigned=e,o}function a(e){return e instanceof t?e:"number"==typeof e?r(e):"string"==typeof e?s(e):n(e.low,e.high,e.unsigned)}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),t.isLong=e;var o={},f={};t.fromInt=i,t.fromNumber=r,t.fromBits=n;var h=Math.pow;t.fromString=s,t.fromValue=a;var u=65536,l=1<<24,b=u*u,d=b*b,c=d/2,_=i(l),g=i(0);t.ZERO=g;var v=i(0,!0);t.UZERO=v;var w=i(1);t.ONE=w;var p=i(1,!0);t.UONE=p;var y=i(-1);t.NEG_ONE=y;var m=n(-1,2147483647,!1);t.MAX_VALUE=m;var U=n(-1,-1,!0);t.MAX_UNSIGNED_VALUE=U;var E=n(0,-2147483648,!1);t.MIN_VALUE=E;var I=t.prototype;return I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*b+(this.low>>>0):this.high*b+(this.low>>>0)},I.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var e=r(t),i=this.div(e),n=i.mul(e).sub(this);return i.toString(t)+n.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var s=r(h(t,6),this.unsigned),a=this,o="";;){var f=a.div(s),u=a.sub(f.mul(s)).toInt()>>>0,l=u.toString(t);if(a=f,a.isZero())return l+o;for(;l.length<6;)l="0"+l;o=""+l+o}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},I.isZero=function(){return 0===this.high&&0===this.low},I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return 1==(1&this.low)},I.isEven=function(){return 0==(1&this.low)},I.equals=function(t){return e(t)||(t=a(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},I.eq=I.equals,I.notEquals=function(t){return!this.eq(t)},I.neq=I.notEquals,I.lessThan=function(t){return this.comp(t)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(t){return this.comp(t)<=0},I.lte=I.lessThanOrEqual,I.greaterThan=function(t){return this.comp(t)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(t){return this.comp(t)>=0},I.gte=I.greaterThanOrEqual,I.compare=function(t){if(e(t)||(t=a(t)),this.eq(t))return 0;var i=this.isNegative(),r=t.isNegative();return i&&!r?-1:!i&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(w)},I.neg=I.negate,I.add=function(t){e(t)||(t=a(t));var i=this.high>>>16,r=65535&this.high,s=this.low>>>16,o=65535&this.low,f=t.high>>>16,h=65535&t.high,u=t.low>>>16,l=65535&t.low,b=0,d=0,c=0,_=0;return _+=o+l,c+=_>>>16,_&=65535,c+=s+u,d+=c>>>16,c&=65535,d+=r+h,b+=d>>>16,d&=65535,b+=i+f,b&=65535,n(c<<16|_,b<<16|d,this.unsigned)},I.subtract=function(t){return e(t)||(t=a(t)),this.add(t.neg())},I.sub=I.subtract,I.multiply=function(t){if(this.isZero())return g;if(e(t)||(t=a(t)),t.isZero())return g;if(this.eq(E))return t.isOdd()?E:g;if(t.eq(E))return this.isOdd()?E:g;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(_)&&t.lt(_))return r(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,s=65535&this.high,o=this.low>>>16,f=65535&this.low,h=t.high>>>16,u=65535&t.high,l=t.low>>>16,b=65535&t.low,d=0,c=0,v=0,w=0;return w+=f*b,v+=w>>>16,w&=65535,v+=o*b,c+=v>>>16,v&=65535,v+=f*l,c+=v>>>16,v&=65535,c+=s*b,d+=c>>>16,c&=65535,c+=o*l,d+=c>>>16,c&=65535,c+=f*u,d+=c>>>16,c&=65535,d+=i*b+s*l+o*u+f*h,d&=65535,n(v<<16|w,d<<16|c,this.unsigned)},I.mul=I.multiply,I.divide=function(t){if(e(t)||(t=a(t)),t.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?v:g;var i,n,s;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return v;if(t.gt(this.shru(1)))return p;s=v}else{if(this.eq(E)){if(t.eq(w)||t.eq(y))return E;if(t.eq(E))return w;return i=this.shr(1).div(t).shl(1),i.eq(g)?t.isNegative()?w:y:(n=this.sub(t.mul(i)),s=i.add(n.div(t)))}if(t.eq(E))return this.unsigned?v:g;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=g}for(n=this;n.gte(t);){i=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(i)/Math.LN2),f=o<=48?1:h(2,o-48),u=r(i),l=u.mul(t);l.isNegative()||l.gt(n);)i-=f,u=r(i,this.unsigned),l=u.mul(t);u.isZero()&&(u=w),s=s.add(u),n=n.sub(l)}return s},I.div=I.divide,I.modulo=function(t){return e(t)||(t=a(t)),this.sub(this.div(t).mul(t))},I.mod=I.modulo,I.not=function(){return n(~this.low,~this.high,this.unsigned)},I.and=function(t){return e(t)||(t=a(t)),n(this.low&t.low,this.high&t.high,this.unsigned)},I.or=function(t){return e(t)||(t=a(t)),n(this.low|t.low,this.high|t.high,this.unsigned)},I.xor=function(t){return e(t)||(t=a(t)),n(this.low^t.low,this.high^t.high,this.unsigned)},I.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?n(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):n(0,this.low<<t-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?n(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):n(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(t){if(e(t)&&(t=t.toInt()),0===(t&=63))return this;var i=this.high;if(t<32){return n(this.low>>>t|i<<32-t,i>>>t,this.unsigned)}return 32===t?n(i,0,this.unsigned):n(i>>>t-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.toSigned=function(){return this.unsigned?n(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:n(this.low,this.high,!0)},I.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},I.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},t})}).call(e,i(4)(t))},function(t,e){"use strict";var i={UTF8:1,INTEGER:3,FLOAT:4,LONG:5,DOUBLE:6,CLASS:7,STRING:8,FIELDREF:9,METHODREF:10,INTERFACE_METHODREF:11,NAME_AND_TYPE:12,METHOD_HANDLE:15,METHOD_TYPE:16,INVOKE_DYNAMIC:18,MODULE:19,PACKAGE:20};t.exports=i},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),a=i(3),o=r(a),f=i(7),h=r(f),u=function(){function t(){n(this,t)}return s(t,[{key:"write",value:function(t){return this.buf=new o.default,this.classFile=t,this.buf.writeUint8(202),this.buf.writeUint8(254),this.buf.writeUint8(186),this.buf.writeUint8(190),this.buf.writeUint16(t.minor_version),this.buf.writeUint16(t.major_version),this.buf.writeUint16(t.constant_pool_count),this._writeConstantPool(t.constant_pool),this.buf.writeUint16(t.access_flags),this.buf.writeUint16(t.this_class),this.buf.writeUint16(t.super_class),this.buf.writeUint16(t.interfaces_count),this._writeInterfaces(t.interfaces),this.buf.writeUint16(t.fields_count),this._writeMemberInfoArray(t.fields),this.buf.writeUint16(t.methods_count),this._writeMemberInfoArray(t.methods),this.buf.writeUint16(t.attributes_count),this._writeAttributeInfoArray(t.attributes),this.buf.buffer=this.buf.buffer.slice(0,this.buf.offset),this.buf}},{key:"_writeMemberInfoArray",value:function(t){for(var e=0;e<t.length;e++){var i=t[e];this.buf.writeUint16(i.access_flags),this.buf.writeUint16(i.name_index),this.buf.writeUint16(i.descriptor_index),this.buf.writeUint16(i.attributes_count),this._writeAttributeInfoArray(i.attributes)}}},{key:"_writeAttributeInfoArray",value:function(t){for(var e=0;e<t.length;e++)this._writeAttributeInfo(t[e])}},{key:"_writeAttributeAnnotation",value:function(t){this.buf.writeUint16(t.type_index),this.buf.writeUint16(t.num_element_value_pairs);for(var e=0;e<t.num_element_value_pairs;e++){var i=t.element_value_pairs[e];this.buf.writeUint16(i.element_name_index),this._writeElementValue(i.element_value)}}},{key:"_writeElementValue",value:function(t){this.buf.writeUint8(t.tag);var e=t.value;switch(t.tag){case 101:this.buf.writeUint16(e.enum_const_value.type_name_index),this.buf.writeUint16(e.enum_const_value.const_name_index);break;case 99:this.buf.writeUint16(e.class_info_index);break;case 91:this.buf.writeUint16(e.array_value.num_values);for(var i=0;i<e.array_value.num_values;i++)this._writeElementValue(e.array_value.values[i]);break;case 64:this._writeAttributeAnnotation(e.annotation);break;case 66:case 67:case 68:case 70:case 73:case 74:case 83:case 90:case 115:this.buf.writeUint16(e.const_value_index);break;default:throw Error("Unexpected tag: "+t.tag)}}},{key:"_writeTypeAnnotation",value:function(t){switch(this.buf.writeUint8(t.target_type),t.target_type){case 0:case 1:this.buf.writeUint8(t.target_info.type_parameter_index);break;case 16:this.buf.writeUint16(t.target_info.supertype_index);break;case 17:case 18:this.buf.writeUint8(t.target_info.type_parameter_index),this.buf.writeUint8(t.target_info.bound_index);break;case 19:case 20:case 21:break;case 22:this.buf.writeUint8(t.target_info.formal_parameter_index);break;case 23:this.buf.writeUint16(t.target_info.throws_type_index);break;case 64:case 65:this.buf.writeUint16(t.target_info.table_length);for(var e=0;e<t.target_info.table_length;e++){var i=t.target_info.table[e];this.buf.writeUint16(i.start_pc),this.buf.writeUint16(i.length),this.buf.writeUint16(i.index)}break;case 66:this.buf.writeUint16(t.target_info.exception_table_index);break;case 67:case 68:case 69:case 70:this.buf.writeUint16(t.target_info.offset);break;case 71:case 72:case 73:case 74:case 75:this.buf.writeUint16(t.target_info.offset),this.buf.writeUint8(t.target_info.type_argument_index);break;default:throw Error("Unexpected target_type: "+t.target_type)}this.buf.writeUint8(t.type_path.path_length);for(var e=0;e<t.type_path.path_length;e++){var r=t.type_path.path[e];this.buf.writeUint8(r.type_path_kind),this.buf.writeUint8(r.type_argument_index)}this.buf.writeUint16(t.type_index),this.buf.writeUint16(t.num_element_value_pairs);for(var e=0;e<t.num_element_value_pairs;e++){var n=t.element_value_pairs[e];this.buf.writeUint16(n.element_name_index),this._writeElementValue(n.element_value)}}},{key:"_writeAttributeInfo",value:function(t){this.buf.writeUint16(t.attribute_name_index),this.buf.writeUint32(t.attribute_length);var e=this.classFile.constant_pool[t.attribute_name_index].bytes;switch(String.fromCharCode.apply(null,e)){case"RuntimeInvisibleAnnotations":case"RuntimeVisibleAnnotations":this.buf.writeUint16(t.num_annotations);for(var i=0;i<t.num_annotations;i++)this._writeAttributeAnnotation(t.annotations[i]);break;case"Deprecated":case"Synthetic":break;case"InnerClasses":this.buf.writeUint16(t.number_of_classes);for(var i=0;i<t.number_of_classes;i++){var r=t.classes[i];this.buf.writeUint16(r.inner_class_info_index),this.buf.writeUint16(r.outer_class_info_index),this.buf.writeUint16(r.inner_name_index),this.buf.writeUint16(r.inner_class_access_flags)}break;case"LocalVariableTable":this.buf.writeUint16(t.local_variable_table_length);for(var i=0;i<t.local_variable_table_length;i++){var n=t.local_variable_table[i];this.buf.writeUint16(n.start_pc),this.buf.writeUint16(n.length),this.buf.writeUint16(n.name_index),this.buf.writeUint16(n.descriptor_index),this.buf.writeUint16(n.index)}break;case"LocalVariableTypeTable":this.buf.writeUint16(t.local_variable_type_table_length);for(var i=0;i<t.local_variable_type_table_length;i++){var s=t.local_variable_type_table[i];this.buf.writeUint16(s.start_pc),this.buf.writeUint16(s.length),this.buf.writeUint16(s.name_index),this.buf.writeUint16(s.signature_index),this.buf.writeUint16(s.index)}break;case"RuntimeInvisibleParameterAnnotations":case"RuntimeVisibleParameterAnnotations":this.buf.writeUint8(t.num_parameters);for(var i=0;i<t.num_parameters;i++){var a=t.parameter_annotations[i];this.buf.writeUint16(a.num_annotations);for(var o=0;o<a.num_annotations;o++)this._writeAttributeAnnotation(a.annotations[o])}break;case"BootstrapMethods":this.buf.writeUint16(t.num_bootstrap_methods);for(var i=0;i<t.num_bootstrap_methods;i++){var f=t.bootstrap_methods[i];this.buf.writeUint16(f.bootstrap_method_ref),this.buf.writeUint16(f.num_bootstrap_arguments);for(var o=0;o<f.num_bootstrap_arguments;o++)this.buf.writeUint16(f.bootstrap_arguments[o])}break;case"RuntimeInvisibleTypeAnnotations":case"RuntimeVisibleTypeAnnotations":this.buf.writeUint16(t.num_annotations);for(var i=0;i<t.num_annotations;i++)this._writeTypeAnnotation(t.annotations[i]);break;case"SourceDebugExtension":for(var i=0;i<t.attribute_length;i++)this.buf.writeUint8(t.debug_extension[i]);break;case"SourceFile":this.buf.writeUint16(t.sourcefile_index);break;case"EnclosingMethod":this.buf.writeUint16(t.class_index),this.buf.writeUint16(t.method_index);break;case"AnnotationDefault":this._writeElementValue(t.default_value);break;case"MethodParameters":this.buf.writeUint8(t.parameters_count);for(var i=0;i<t.parameters_count;i++){var h=t.parameters[i];this.buf.writeUint16(h.name_index),this.buf.writeUint16(h.access_flags)}break;case"Exceptions":this.buf.writeUint16(t.number_of_exceptions);for(var i=0;i<t.number_of_exceptions;i++)this.buf.writeUint16(t.exception_index_table[i]);break;case"ConstantValue":this.buf.writeUint16(t.constantvalue_index);break;case"Signature":this.buf.writeUint16(t.signature_index);break;case"StackMapTable":this.buf.writeUint16(t.number_of_entries);for(var i=0;i<t.number_of_entries;i++){var u=t.entries[i],l=u.frame_type;if(this.buf.writeUint8(l),l>=64&&l<=127)this._writeVerificationTypeInfo(u.stack[0]);else if(247===u.frame_type)this.buf.writeUint16(u.offset_delta),this._writeVerificationTypeInfo(u.stack[0]);else if(l>=248&&l<=251)this.buf.writeUint16(u.offset_delta);else if(l>=252&&l<=254){this.buf.writeUint16(u.offset_delta);for(var b=l-251,o=0;o<b;o++)this._writeVerificationTypeInfo(u.locals[o])}else if(255===l){this.buf.writeUint16(u.offset_delta),this.buf.writeUint16(u.number_of_locals);for(var o=0;o<u.number_of_locals;o++)this._writeVerificationTypeInfo(u.locals[o]);this.buf.writeUint16(u.number_of_stack_items);for(var o=0;o<u.number_of_stack_items;o++)this._writeVerificationTypeInfo(u.stack[o])}}break;case"Code":this.buf.writeUint16(t.max_stack),this.buf.writeUint16(t.max_locals),this.buf.writeUint32(t.code_length);for(var i=0;i<t.code_length;i++)this.buf.writeUint8(t.code[i]);this.buf.writeUint16(t.exception_table_length);for(var i=0;i<t.exception_table_length;i++){var d=t.exception_table[i];this.buf.writeUint16(d.start_pc),this.buf.writeUint16(d.end_pc),this.buf.writeUint16(d.handler_pc),this.buf.writeUint16(d.catch_type)}this.buf.writeUint16(t.attributes_count),this._writeAttributeInfoArray(t.attributes);break;case"LineNumberTable":this.buf.writeUint16(t.line_number_table_length);for(var i=0;i<t.line_number_table_length;i++){var c=t.line_number_table[i];this.buf.writeUint16(c.start_pc),this.buf.writeUint16(c.line_number)}break;case"Module":this.buf.writeUint16(t.module_name_index),this.buf.writeUint16(t.module_flags),this.buf.writeUint16(t.module_version_index),this.buf.writeUint16(t.requires_count);for(var i=0;i<t.requires_count;i++){var _=t.requires[i];this.buf.writeUint16(_.requires_index),this.buf.writeUint16(_.requires_flags),this.buf.writeUint16(_.requires_version_index)}this.buf.writeUint16(t.exports_count);for(var i=0;i<t.exports_count;i++){var g=t.exports[i];this.buf.writeUint16(g.exports_index),this.buf.writeUint16(g.exports_flags),this.buf.writeUint16(g.exports_to_count);for(var o=0;o<g.exports_to_count;o++)this.buf.writeUint16(g.exports_to_index[o])}this.buf.writeUint16(t.opens_count);for(var i=0;i<t.opens_count;i++){var v=t.opens[i];this.buf.writeUint16(v.opens_index),this.buf.writeUint16(v.opens_flags),this.buf.writeUint16(v.opens_to_count);for(var o=0;o<v.opens_to_count;o++)this.buf.writeUint16(v.opens_to_index[o])}this.buf.writeUint16(t.uses_count);for(var i=0;i<t.uses_count;i++)this.buf.writeUint16(t.uses_index[i]);this.buf.writeUint16(t.provides_count);for(var i=0;i<t.provides_count;i++){var w=t.provides[i];this.buf.writeUint16(w.provides_index),this.buf.writeUint16(w.provides_with_count);for(var o=0;o<w.provides_with_count;o++)this.buf.writeUint16(w.provides_with_index[o])}break;case"ModulePackages":this.buf.writeUint16(t.package_count);for(var i=0;i<t.package_count;i++)this.buf.writeUint16(t.package_index[i]);break;case"ModuleTarget":this.buf.writeUint16(t.target_platform_index);break;case"ModuleHashes":this.buf.writeUint16(t.algorithm_index),this.buf.writeUint16(t.hashes_table_length);for(var i=0;i<t.hashes_table_length;i++){var p=t.hashes_table[i];this.buf.writeUint16(p.module_name_index),this.buf.writeUint16(p.hash_length);for(var o=0;o<p.hash_length;o++)this.buf.writeUint8(p.hash[o])}break;default:for(var i=0;i<t.attribute_length;i++)this.buf.writeUint8(t.info[i])}}},{key:"_writeVerificationTypeInfo",value:function(t){this.buf.writeUint8(t.tag),7===t.tag?this.buf.writeUint16(t.cpool_index):8===t.tag&&this.buf.writeUint16(t.offset)}},{key:"_writeInterfaces",value:function(t){for(var e=0;e<t.length;e++)this.buf.writeUint16(t[e])}},{key:"_writeConstantPool",value:function(t){for(var e=1;e<t.length;e++){var i=t[e];void 0!==i&&this._writeConstantPoolEntry(i)}}},{key:"_writeConstantPoolEntry",value:function(t){switch(this.buf.writeUint8(t.tag),t.tag){case h.default.UTF8:this.buf.writeUint16(t.length);for(var e=0;e<t.length;e++)this.buf.writeUint8(t.bytes[e]);break;case h.default.INTEGER:case h.default.FLOAT:this.buf.writeUint32(t.bytes);break;case h.default.LONG:case h.default.DOUBLE:this.buf.writeUint32(t.high_bytes),this.buf.writeUint32(t.low_bytes);break;case h.default.PACKAGE:case h.default.MODULE:case h.default.CLASS:this.buf.writeUint16(t.name_index);break;case h.default.STRING:this.buf.writeUint16(t.string_index);break;case h.default.FIELDREF:case h.default.METHODREF:case h.default.INTERFACE_METHODREF:this.buf.writeUint16(t.class_index),this.buf.writeUint16(t.name_and_type_index);break;case h.default.NAME_AND_TYPE:this.buf.writeUint16(t.name_index),this.buf.writeUint16(t.descriptor_index);break;case h.default.METHOD_HANDLE:this.buf.writeUint8(t.reference_kind),this.buf.writeUint16(t.reference_index);break;case h.default.METHOD_TYPE:this.buf.writeUint16(t.descriptor_index);break;case h.default.INVOKE_DYNAMIC:this.buf.writeUint16(t.bootstrap_method_attr_index),this.buf.writeUint16(t.name_and_type_index);break;default:throw Error("Unexpected tag: "+t.tag)}}}]),t}();t.exports=u},function(t,e){"use strict";var i={NOP:0,ACONST_NULL:1,ICONST_M1:2,ICONST_0:3,ICONST_1:4,ICONST_2:5,ICONST_3:6,ICONST_4:7,ICONST_5:8,LCONST_0:9,LCONST_1:10,FCONST_0:11,FCONST_1:12,FCONST_2:13,DCONST_0:14,DCONST_1:15,BIPUSH:16,SIPUSH:17,LDC:18,LDC_W:19,LDC2_W:20,ILOAD:21,LLOAD:22,FLOAD:23,DLOAD:24,ALOAD:25,ILOAD_0:26,ILOAD_1:27,ILOAD_2:28,ILOAD_3:29,LLOAD_0:30,LLOAD_1:31,LLOAD_2:32,LLOAD_3:33,FLOAD_0:34,FLOAD_1:35,FLOAD_2:36,FLOAD_3:37,DLOAD_0:38,DLOAD_1:39,DLOAD_2:40,DLOAD_3:41,ALOAD_0:42,ALOAD_1:43,ALOAD_2:44,ALOAD_3:45,IALOAD:46,LALOAD:47,FALOAD:48,DALOAD:49,AALOAD:50,BALOAD:51,CALOAD:52,SALOAD:53,ISTORE:54,LSTORE:55,FSTORE:56,DSTORE:57,ASTORE:58,ISTORE_0:59,ISTORE_1:60,ISTORE_2:61,ISTORE_3:62,LSTORE_0:63,LSTORE_1:64,LSTORE_2:65,LSTORE_3:66,FSTORE_0:67,FSTORE_1:68,FSTORE_2:69,FSTORE_3:70,DSTORE_0:71,DSTORE_1:72,DSTORE_2:73,DSTORE_3:74,ASTORE_0:75,ASTORE_1:76,ASTORE_2:77,ASTORE_3:78,IASTORE:79,LASTORE:80,FASTORE:81,DASTORE:82,AASTORE:83,BASTORE:84,CASTORE:85,SASTORE:86,POP:87,POP2:88,DUP:89,DUP_X1:90,DUP_X2:91,DUP2:92,DUP2_X1:93,DUP2_X2:94,SWAP:95,IADD:96,LADD:97,FADD:98,DADD:99,ISUB:100,LSUB:101,FSUB:102,DSUB:103,IMUL:104,LMUL:105,FMUL:106,DMUL:107,IDIV:108,LDIV:109,FDIV:110,DDIV:111,IREM:112,LREM:113,FREM:114,DREM:115,INEG:116,LNEG:117,FNEG:118,DNEG:119,ISHL:120,LSHL:121,ISHR:122,LSHR:123,IUSHR:124,LUSHR:125,IAND:126,LAND:127,IOR:128,LOR:129,IXOR:130,LXOR:131,IINC:132,I2L:133,I2F:134,I2D:135,L2I:136,L2F:137,L2D:138,F2I:139,F2L:140,F2D:141,D2I:142,D2L:143,D2F:144,I2B:145,I2C:146,I2S:147,LCMP:148,FCMPL:149,FCMPG:150,DCMPL:151,DCMPG:152,IFEQ:153,IFNE:154,IFLT:155,IFGE:156,IFGT:157,IFLE:158,IF_ICMPEQ:159,IF_ICMPNE:160,IF_ICMPLT:161,IF_ICMPGE:162,IF_ICMPGT:163,IF_ICMPLE:164,IF_ACMPEQ:165,IF_ACMPNE:166,GOTO:167,JSR:168,RET:169,TABLESWITCH:170,LOOKUPSWITCH:171,IRETURN:172,LRETURN:173,FRETURN:174,DRETURN:175,ARETURN:176,RETURN:177,GETSTATIC:178,PUTSTATIC:179,GETFIELD:180,PUTFIELD:181,INVOKEVIRTUAL:182,INVOKESPECIAL:183,INVOKESTATIC:184,INVOKEINTERFACE:185,INVOKEDYNAMIC:186,NEW:187,NEWARRAY:188,ANEWARRAY:189,ARRAYLENGTH:190,ATHROW:191,CHECKCAST:192,INSTANCEOF:193,MONITORENTER:194,MONITOREXIT:195,WIDE:196,MULTIANEWARRAY:197,IFNULL:198,IFNONNULL:199,GOTO_W:200,JSR_W:201,BREAKPOINT:202,IMPDEP1:254,IMPDEP2:255};t.exports=i},function(t,e){"use strict";var i={PUBLIC:1,PRIVATE:2,PROTECTED:4,STATIC:8,FINAL:16,SYNCHRONIZED:32,VOLATILE:64,BRIDGE:64,TRANSIENT:128,VARARGS:128,NATIVE:256,ABSTRACT:1024,STRICT:2048,SYNTHETIC:4096,INTERFACE:512,SUPER:32,ANNOTATION:8192,ENUM:16384,MODULE:32768};t.exports=i},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),o=i(9),f=r(o),h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,1,2,2,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,-1,-1,0,0,0,0,0,0,2,2,2,2,2,2,2,4,4,2,1,2,0,0,2,2,0,0,-1,3,2,2,4,4,0],u=["nop","aconst_null","iconst_m1","iconst_0","iconst_1","iconst_2","iconst_3","iconst_4","iconst_5","lconst_0","lconst_1","fconst_0","fconst_1","fconst_2","dconst_0","dconst_1","bipush","sipush","ldc","ldc_w","ldc2_w","iload","lload","fload","dload","aload","iload_0","iload_1","iload_2","iload_3","lload_0","lload_1","lload_2","lload_3","fload_0","fload_1","fload_2","fload_3","dload_0","dload_1","dload_2","dload_3","aload_0","aload_1","aload_2","aload_3","iaload","laload","faload","daload","aaload","baload","caload","saload","istore","lstore","fstore","dstore","astore","istore_0","istore_1","istore_2","istore_3","lstore_0","lstore_1","lstore_2","lstore_3","fstore_0","fstore_1","fstore_2","fstore_3","dstore_0","dstore_1","dstore_2","dstore_3","astore_0","astore_1","astore_2","astore_3","iastore","lastore","fastore","dastore","aastore","bastore","castore","sastore","pop","pop2","dup","dup_x1","dup_x2","dup2","dup2_x1","dup2_x2","swap","iadd","ladd","fadd","dadd","isub","lsub","fsub","dsub","imul","lmul","fmul","dmul","idiv","ldiv","fdiv","ddiv","irem","lrem","frem","drem","ineg","lneg","fneg","dneg","ishl","lshl","ishr","lshr","iushr","lushr","iand","land","ior","lor","ixor","lxor","iinc","i2l","i2f","i2d","l2i","l2f","l2d","f2i","f2l","f2d","d2i","d2l","d2f","i2b","i2c","i2s","lcmp","fcmpl","fcmpg","dcmpl","dcmpg","ifeq","ifne","iflt","ifge","ifgt","ifle","if_icmpeq","if_icmpne","if_icmplt","if_icmpge","if_icmpgt","if_icmple","if_acmpeq","if_acmpne","goto","jsr","ret","tableswitch","lookupswitch","ireturn","lreturn","freturn","dreturn","areturn","return","getstatic","putstatic","getfield","putfield","invokevirtual","invokespecial","invokestatic","invokeinterface","invokedynamic","new","newarray","anewarray","arraylength","athrow","checkcast","instanceof","monitorenter","monitorexit","wide","multianewarray","ifnull","ifnonnull","goto_w","jsr_w","breakpoint"],l=function(){function t(e,i,r){if(s(this,t),"number"!=typeof e)throw TypeError("opcode must be a number");if(!Array.isArray(i))throw TypeError("operands must be an array");this.opcode=e,this.operands=i,this.bytecodeOffset=r}return a(t,[{key:"toString",value:function(){return"Instruction { opcode: "+(u[this.opcode]||(254===this.opcode?"impdep1":255===this.opcode?"impdep2":void 0))+", operands: ["+this.operands+"] }"}}]),t}(),b=function(){function t(){s(this,t)}return a(t,null,[{key:"toBytecode",value:function(t){if(!Array.isArray(t))throw TypeError("instructions must be an array.");for(var e=[],i=0;i<t.length;){var r=t[i];switch(e.push(r.opcode),r.opcode){case f.default.TABLESWITCH:case f.default.LOOKUPSWITCH:for(var s=e.length%4?4-e.length%4:0;s-- >0;)e.push(0);e.push.apply(e,n(r.operands));break;case f.default.WIDE:var a=r.operands[0];switch(a){case f.default.ILOAD:case f.default.FLOAD:case f.default.ALOAD:case f.default.LLOAD:case f.default.DLOAD:case f.default.ISTORE:case f.default.FSTORE:case f.default.ASTORE:case f.default.LSTORE:case f.default.DSTORE:case f.default.RET:e.push(a,r.operands[1],r.operands[2]);break;case f.default.IINC:e.push(a,r.operands[1],r.operands[2],r.operands[3],r.operands[4]);break;default:throw"Unexpected wide opcode: "+a}break;default:var o=h[r.opcode];if(void 0===o)throw Error("Unexpected opcode: "+r);if(r.operands.length>o)throw Error("The number of operands in instruction: "+r+" is greater than the allowed.");for(var u=0;u<o;u++)e.push(r.operands[u])}i++}return e}},{key:"fromBytecode",value:function(t){if(!Array.isArray(t))throw TypeError("bytecode must be an array of bytes.");for(var e=[],i=0;i<t.length;){var r=t[i++],n=new l(r,[],i-1);switch(r){case f.default.LOOKUPSWITCH:i+=i%4?4-i%4:0;for(var s=0;s<8;s++)n.operands.push(t[i++]);for(var a=t[i-4]<<24|t[i-3]<<16|t[i-2]<<8|t[i-1],o=0;o<8*a;o++)n.operands.push(t[i++]);break;case f.default.TABLESWITCH:i+=i%4?4-i%4:0;for(var u=0;u<12;u++)n.operands.push(t[i++]);for(var b=t[i-8]<<24|t[i-7]<<16|t[i-6]<<8|t[i-5],d=t[i-4]<<24|t[i-3]<<16|t[i-2]<<8|t[i-1],c=d-b+1,_=0;_<4*c;_++)n.operands.push(t[i++]);break;case f.default.WIDE:var g=t[i++];switch(g){case f.default.ILOAD:case f.default.FLOAD:case f.default.ALOAD:case f.default.LLOAD:case f.default.DLOAD:case f.default.ISTORE:case f.default.FSTORE:case f.default.ASTORE:case f.default.LSTORE:case f.default.DSTORE:case f.default.RET:n.operands.push(g,t[i++],t[i++]);break;case f.default.IINC:n.operands.push(g,t[i++],t[i++],t[i++],t[i++]);break;default:throw"Unexpected wide opcode: "+g}break;default:var v=h[r];if(void 0===v)throw Error("Unexpected opcode: "+r);for(;v-- >0;)n.operands.push(t[i++])}e.push(n)}return e}}]),t}();t.exports={Instruction:l,InstructionParser:b}}])});